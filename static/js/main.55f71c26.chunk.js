(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={forecast:"ForecastList_forecast__39bfI",forecast__header:"ForecastList_forecast__header__3Haar",forecast__title:"ForecastList_forecast__title__1yMDN",forecast__switch:"ForecastList_forecast__switch__1UF_q",forecast__switch__label:"ForecastList_forecast__switch__label__1KC0V",forecast__buttonGroup:"ForecastList_forecast__buttonGroup__34Xt0",forecast__button:"ForecastList_forecast__button__3HTUd",forecast__buttonPrev:"ForecastList_forecast__buttonPrev__3Fcos",forecast__buttonNext:"ForecastList_forecast__buttonNext__2M3-k",forecast__cards:"ForecastList_forecast__cards__2zSn7"}},114:function(e,t,a){e.exports={button:"Button_button__3ORSg",invert:"Button_invert__18Yym",danger:"Button_danger__2CiQ2"}},194:function(e,t,a){e.exports={card:"Card_card__2mtgf"}},207:function(e,t,a){e.exports={content:"Weather_content__mP902"}},236:function(e,t,a){e.exports=a(537)},241:function(e,t,a){},27:function(e,t,a){e.exports={card:"ForecastCard_card__8Dqgd",active:"ForecastCard_active__121jB",card__field:"ForecastCard_card__field__2z3hU",card__field__label:"ForecastCard_card__field__label__N4Y52",card__field__value:"ForecastCard_card__field__value__rPDvy"}},537:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(34),s=a.n(n),o=(a(241),a(13)),i=a(46),l=a(114),_=a.n(l),u={invert:"invert",danger:"danger"},d=function(e){var t=e.children,a=e.onClick,r=e.variant,n=e.customStyles,s=void 0===n?{}:n,o=e.type,i=e.disabled;return c.a.createElement("button",{className:"\n            ".concat(_.a.button,"\n            ").concat(s.button,"\n            ").concat(u[r]?[_.a[u[r]]]:"","\n        "),type:o,onClick:a,disabled:i},t)};d.defaultProps={children:"",onClick:function(){},variantTypes:"",customStyles:{},type:"button",disabled:!1};var f=d,m=a(194),p=a.n(m),h=function(e){var t=e.children,a=e.customStyles,r=e.onClick,n=e.refEl;return c.a.createElement("div",{ref:n,className:"".concat(p.a.card," ").concat(a.card),onClick:r},t)};h.defaultProps={children:"",customStyles:{card:""},onClick:function(){}};var b=h,v=a(71),E=a.n(v),y=function(){return c.a.createElement("div",{className:E.a.error},c.a.createElement("span",{className:E.a.error__icon}),c.a.createElement("span",{className:E.a.error__text},"OOPS..! Something went wrong, try refreshing the page."))},g=a(72),w=a.n(g),C=function(){return c.a.createElement("header",{className:w.a.header},c.a.createElement("div",{className:w.a.container},c.a.createElement("h1",{className:w.a.header__title},"Weather")))};C.defaultProps={};var x=C,N=a(73),F=a.n(N),O=function(){return c.a.createElement("div",{className:F.a.loader},c.a.createElement("div",{className:F.a.loader__spinner}),c.a.createElement("span",{className:F.a.loader__text},"Loading..."))};O.defaultProps={};var S=O,L=a(74),j=a.n(L),k=function(e){var t=e.onChange,a=e.checked,r=e.customStyles;return c.a.createElement("label",{className:"\n            ".concat(j.a.switch,"\n            ").concat(r.switch,"\n        ")},c.a.createElement("input",{type:"checkbox",className:"\n                ".concat(j.a.switch__input,"\n                ").concat(r.switch__input,"\n            "),onChange:t,checked:a}),c.a.createElement("span",{className:"".concat(j.a.switch__circle," ").concat(r.switch__circle)}))};k.defaultProps={onChange:function(){},checked:!1,customStyles:{switch:"",switch__circle:"",switch__input:""}};var D=k,P=a(195),B=a(2),M=a(44),I=a(65),T=a.n(I),U=a(27),A=a.n(U),H=function(e,t){return t?Math.round(e):Math.round(1.8*e+32)},Y=function(e){var t=e.label,a=e.value;return c.a.createElement("div",{className:A.a.card__field},c.a.createElement("span",{className:A.a.card__field__label},t),c.a.createElement("span",{className:A.a.card__field__value},a))};Y.defaultProps={label:"",value:""};var z=Y,G=function(e){var t=e.data,a=e.isActive,n=e.onCardClick,s=e.isCelsius;P.a.registerPlugin(M.a);var o=Object(r.useRef)(null);return Object(r.useEffect)((function(){(new B.c).fromTo(o.current,{x:35,alpha:0},{x:0,alpha:1,duration:.45})}),[]),c.a.createElement(b,{refEl:o,customStyles:{card:"".concat(A.a.card," ").concat(a?A.a.active:"")},onClick:n},c.a.createElement(c.a.Fragment,null,c.a.createElement(z,{label:"Date: ",value:T()(t.date).format("Do MMM YY")}),c.a.createElement(z,{label:"Temp: ",value:"".concat(H(t.avg_temp,s)," ").concat(s?" \xbaC":" \xbaF")})))};G.defaultProps={data:{},isActive:!1,isCelsius:!1,onCardClick:function(){}};var K=G,W=a(10),q=a.n(W),J=function(e){var t=e.list,a=e.activeForecastDate,n=e.setActiveForecastDate,s=e.isCelsius,i=e.setIsCelsius,l=e.city,_=Object(r.useState)([]),u=Object(o.a)(_,2),d=u[0],m=u[1],p=Object(r.useState)(1),h=Object(o.a)(p,2),b=h[0],v=h[1],E=Object(r.useState)(3),y=Object(o.a)(E,1)[0],g=Object(r.useState)(0),w=Object(o.a)(g,2),C=w[0],x=w[1];Object(r.useEffect)((function(){m(t),x(Math.ceil(t.length/y)),n(t[0].date)}),[t]);return c.a.createElement("div",{className:q.a.forecast},c.a.createElement("div",{className:q.a.forecast__header},c.a.createElement("h2",{className:q.a.forecast__title},l),c.a.createElement("div",{className:q.a.forecast__buttonGroup},c.a.createElement("label",{className:q.a.forecast__switch},c.a.createElement("span",{className:q.a.forecast__switch__label},"\xbaF"),c.a.createElement(D,{checked:s,onChange:i}),c.a.createElement("span",{className:q.a.forecast__switch__label},"\xbaC")),c.a.createElement(f,{onClick:function(){b>1&&v(b-1)},disabled:!(b>1),customStyles:{button:"".concat(q.a.forecast__button,"\n                            ").concat(q.a.forecast__buttonPrev)}}),c.a.createElement(f,{onClick:function(){C>b&&v(b+1)},disabled:!(C>b),customStyles:{button:"".concat(q.a.forecast__button,"\n                            ").concat(q.a.forecast__buttonNext)}}))),c.a.createElement("div",{className:q.a.forecast__cards},function(){var e=b*y,t=e-y;return d.slice(t,e)}().map((function(e){return c.a.createElement(K,{key:e.date,data:e,isCelsius:s,isActive:e.date===a,onCardClick:function(){return n(e.date)}})}))))};J.defaultProps={city:"",list:[],activeForecastDate:"",isCelsius:!1,setActiveForecastDate:function(){},setIsCelsius:function(){}};var Q=J,R=a(28),X=function(e){var t=e.style,a=e.label;return c.a.createElement("g",{style:t},c.a.createElement("text",null,a))};X.defaultProps={label:"",style:{}};var V=X,Z=a(76),$=a.n(Z),ee={transform:"translate(50%, 100%)"},te={transform:"rotateX(0deg) rotateY(0deg) rotateZ(-90deg) translate(-122px, 12px)"},ae=function(e){var t=e.data,a=e.forecastDate,r=e.isCelsius;return c.a.createElement("div",{className:$.a.wrapper},c.a.createElement("h2",{className:$.a.title},T()(a).format("Do MMMM")),c.a.createElement("div",{className:$.a.chartContainer},c.a.createElement(R.c,{width:"100%",height:200},c.a.createElement(R.b,{data:t,margin:{top:0,right:0,left:-12,bottom:8}},c.a.createElement(R.e,{dataKey:"time",label:c.a.createElement(V,{label:"Time",style:ee})}),c.a.createElement(R.f,{label:c.a.createElement(V,{label:"Temperature",style:te})}),c.a.createElement(R.d,{labelStyle:{display:"none"},wrapperStyle:{background:"#fff",padding:"8px 16px",fontSize:"18px",borderRadius:"2px"},content:function(e){var t=e.payload;if(t.length)return"".concat(t[0].value," ").concat(r?" \xbaC":" \xbaF")}}),c.a.createElement(R.a,{dataKey:"temp",fill:"#009fe3",maxBarSize:24,radius:[4,4,0,0]})))))};ae.defaultProps={data:[],forecastDate:"",isCelsius:!1};var re=ae,ce=function(e){return e.reduce((function(e,t){var a=t.dt_txt.split(" ",1);return e[a]?e[a].push(t):e[a]=[t],e}),{})},ne=function(e){return e.reduce((function(e,t){return e+=t.main.temp}),0)/e.length},se=function(e){var t=[];for(var a in e){var r={date:a,avg_temp:ne(e[a])};t.push(r)}return t},oe=function(e,t){return e.map((function(e){return{time:e.dt_txt.substr(e.dt_txt.indexOf(" ")+1,5),temp:H(e.main.temp,t)}}))},ie=a(70),le=function(e){return{isLoading:e.weather.isLoading,cityInfo:e.weather.cityInfo,forecastList:e.weather.forecastList,forecastByDate:e.weather.forecastByDate}},_e=Object(ie.b)({name:"weather",initialState:{isLoading:!0,error:"",cityInfo:{},forecastList:[],forecastByDate:{}},reducers:{fetchWeatherDataSuccess:function(e,t){e.isLoading=!1,e.cityInfo=t.payload.city,e.forecastList=t.payload.forecastList,e.forecastByDate=t.payload.forecastByDate},setError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ue=_e.actions,de=ue.fetchWeatherDataSuccess,fe=ue.setError,me=_e,pe=a(39),he=a.n(pe),be=a(69),ve=a(206),Ee=a.n(ve),ye=function(){var e=Object(be.a)(he.a.mark((function e(){var t,a,r=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,Ee.a.get(t,{params:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(i.c)(le),t=Object(i.b)(),a=Object(r.useState)(!1),n=Object(o.a)(a,2),s=n[0],l=n[1],_=Object(r.useState)(null),u=Object(o.a)(_,2),d=u[0],f=u[1];return Object(r.useEffect)((function(){setTimeout((function(){t(function(){var e=Object(be.a)(he.a.mark((function e(t){var a,r,c,n,s,o,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={APPID:"3dcbba7ca4300e233aff5675be8082ab",q:"Munich,de",cnt:"40",units:"metric"},e.next=4,ye("https://api.openweathermap.org/data/2.5/forecast",a);case 4:r=e.sent,c=r.data,n=c.list,s=c.city,o=ce(n),i=se(o),t(de({city:s,forecastByDate:o,forecastList:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(fe(e.t0.message||"Unknown error occurred"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),1300)}),[]),e.error?c.a.createElement(y,{message:e.error}):e.isLoading?c.a.createElement(S,null):c.a.createElement(c.a.Fragment,null,!!e.forecastList.length&&c.a.createElement(Q,{list:e.forecastList,isCelsius:s,city:e.cityInfo.name,setIsCelsius:function(){return l(!s)},activeForecastDate:d,setActiveForecastDate:function(e){return f(e)}}),d&&c.a.createElement(re,{forecastDate:d,isCelsius:s,data:oe(e.forecastByDate[d],s)}))};ge.defaultProps={};var we=ge,Ce=a(207),xe=a.n(Ce),Ne=function(){var e=Object(r.useState)(!0),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){setTimeout((function(){n(!1),document.getElementById("flash-screen").style.display="none"}),1e3)}),[]),a?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null),c.a.createElement("div",{className:xe.a.content},c.a.createElement(we,null)))},Fe=Object(ie.a)({reducer:{weather:me.reducer}});s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:Fe},c.a.createElement(Ne,null))),document.getElementById("root"))},71:function(e,t,a){e.exports={error:"Error_error__iMbjl",error__icon:"Error_error__icon__30dCN",error__text:"Error_error__text__vxOFa"}},72:function(e,t,a){e.exports={header:"Header_header__3dVUz",header__title:"Header_header__title__28fUQ",container:"Header_container__1hKOs"}},73:function(e,t,a){e.exports={loader:"Loader_loader__3Ku7_",loader__spinner:"Loader_loader__spinner__2TUQn",loading:"Loader_loading__2TJ_o",loader__text:"Loader_loader__text__1uZ15"}},74:function(e,t,a){e.exports={switch:"Switch_switch__3fe8q",switch__input:"Switch_switch__input__291o-",switch__circle:"Switch_switch__circle__80GYp"}},76:function(e,t,a){e.exports={wrapper:"ForecastChart_wrapper__UxHGX",title:"ForecastChart_title__jWRBQ",chartContainer:"ForecastChart_chartContainer__178UJ"}}},[[236,1,2]]]);
//# sourceMappingURL=main.55f71c26.chunk.js.map