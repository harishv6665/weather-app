(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports={forecast:"ForecastList_forecast__39bfI",forecast__header:"ForecastList_forecast__header__3Haar",forecast__title:"ForecastList_forecast__title__1yMDN",forecast__switch:"ForecastList_forecast__switch__1UF_q",forecast__switch__label:"ForecastList_forecast__switch__label__1KC0V",forecast__buttonGroup:"ForecastList_forecast__buttonGroup__34Xt0",forecast__button:"ForecastList_forecast__button__3HTUd",forecast__buttonPrev:"ForecastList_forecast__buttonPrev__3Fcos",forecast__buttonNext:"ForecastList_forecast__buttonNext__2M3-k",forecast__cards:"ForecastList_forecast__cards__2zSn7"}},112:function(e,t,a){e.exports={button:"Button_button__3ORSg",invert:"Button_invert__18Yym",danger:"Button_danger__2CiQ2"}},193:function(e,t,a){e.exports={card:"Card_card__2mtgf"}},207:function(e,t,a){e.exports={content:"Weather_content__mP902"}},236:function(e,t,a){e.exports=a(537)},241:function(e,t,a){},27:function(e,t,a){e.exports={card:"ForecastCard_card__8Dqgd",active:"ForecastCard_active__121jB",card__field:"ForecastCard_card__field__2z3hU",card__field__label:"ForecastCard_card__field__label__N4Y52",card__field__value:"ForecastCard_card__field__value__rPDvy"}},47:function(e,t,a){e.exports={error:"Error_error__iMbjl",error__icon:"Error_error__icon__30dCN",error__text:"Error_error__text__vxOFa"}},537:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(34),s=a.n(c),o=(a(241),a(112)),i=a.n(o),l={invert:"invert",danger:"danger"},_=function(e){var t=e.children,a=e.onClick,r=e.variant,c=e.customStyles,s=void 0===c?{}:c,o=e.type,_=e.disabled;return n.a.createElement("button",{className:"\n            ".concat(i.a.button,"\n            ").concat(s.button,"\n            ").concat(l[r]?[i.a[l[r]]]:"","\n        "),type:o,onClick:a,disabled:_},t)};_.defaultProps={children:"",onClick:function(){},variantTypes:"",customStyles:{},type:"button",disabled:!1};var u=_,d=a(193),f=a.n(d),m=function(e){var t=e.children,a=e.customStyles,r=e.onClick,c=e.refEl;return n.a.createElement("div",{ref:c,className:"".concat(f.a.card," ").concat(a.card),onClick:r},t)};m.defaultProps={children:"",customStyles:{card:""},onClick:function(){}};var p=m,h=a(47),v=a.n(h),b=function(e){var t=e.message;return n.a.createElement("div",{className:v.a.error},n.a.createElement("span",{className:v.a.error__icon}),n.a.createElement("span",{className:v.a.error__text},"OOPS..! Something went wrong, try refreshing the page."),n.a.createElement("span",{className:v.a.error__text},"Error message: ",t))},E=a(72),g=a.n(E),y=function(){return n.a.createElement("header",{className:g.a.header},n.a.createElement("div",{className:g.a.container},n.a.createElement("h1",{className:g.a.header__title},"Weather")))};y.defaultProps={};var C=y,w=a(73),x=a.n(w),N=function(){return n.a.createElement("div",{className:x.a.loader},n.a.createElement("div",{className:x.a.loader__spinner}),n.a.createElement("span",{className:x.a.loader__text},"Loading..."))};N.defaultProps={};var F=N,P=a(74),D=a.n(P),O=function(e){var t=e.onChange,a=e.checked,r=e.customStyles;return n.a.createElement("label",{className:"\n            ".concat(D.a.switch,"\n            ").concat(r.switch,"\n        ")},n.a.createElement("input",{type:"checkbox",className:"\n                ".concat(D.a.switch__input,"\n                ").concat(r.switch__input,"\n            "),onChange:t,checked:a}),n.a.createElement("span",{className:"".concat(D.a.switch__circle," ").concat(r.switch__circle)}))};O.defaultProps={onChange:function(){},checked:!1,customStyles:{switch:"",switch__circle:"",switch__input:""}};var S=O,L=a(194),j=a(2),k=a(44),B=a(66),M=a.n(B),I=a(27),T=a.n(I),A=function(e,t){return t?Math.round(e):Math.round(1.8*e+32)},U=function(e){var t=e.label,a=e.value;return n.a.createElement("div",{className:T.a.card__field},n.a.createElement("span",{className:T.a.card__field__label},t),n.a.createElement("span",{className:T.a.card__field__value},a))};U.defaultProps={label:"",value:""};var H=U,Y=function(e){var t=e.data,a=e.isActive,c=e.onCardClick,s=e.isCelsius;L.a.registerPlugin(k.a);var o=Object(r.useRef)(null);return Object(r.useEffect)((function(){(new j.c).fromTo(o.current,{x:35,alpha:0},{x:0,alpha:1,duration:.45})}),[]),n.a.createElement(p,{refEl:o,customStyles:{card:"".concat(T.a.card," ").concat(a?T.a.active:"")},onClick:c},n.a.createElement(n.a.Fragment,null,n.a.createElement(H,{label:"Date: ",value:M()(t.date).format("Do MMM YY")}),n.a.createElement(H,{label:"Temp: ",value:"".concat(A(t.avg_temp,s)," ").concat(s?" \xbaC":" \xbaF")})))};Y.defaultProps={data:{},isActive:!1,isCelsius:!1,onCardClick:function(){}};var z=Y,G=a(10),K=a.n(G),W=a(13),q=function(e,t){var a=Object(r.useState)([]),n=Object(W.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(1),i=Object(W.a)(o,2),l=i[0],_=i[1],u=Object(r.useState)(3),d=Object(W.a)(u,1)[0],f=Object(r.useState)(0),m=Object(W.a)(f,2),p=m[0],h=m[1];Object(r.useEffect)((function(){s(e),h(Math.ceil(e.length/d)),t(e[0].date)}),[e]);return{getPageData:function(){var e=l*d,t=e-d;return c.slice(t,e)},onPrevPage:function(){l>1&&_(l-1)},onNextPage:function(){p>l&&_(l+1)},totalPages:p,currentPage:l}},J=function(e){var t=e.list,a=e.activeForecastDate,r=e.setActiveForecastDate,c=e.isCelsius,s=e.setIsCelsius,o=e.city,i=q(t,r),l=i.getPageData,_=i.onPrevPage,d=i.onNextPage,f=i.totalPages,m=i.currentPage;return n.a.createElement("div",{className:K.a.forecast},n.a.createElement("div",{className:K.a.forecast__header},n.a.createElement("h2",{className:K.a.forecast__title},o),n.a.createElement("div",{className:K.a.forecast__buttonGroup},n.a.createElement("label",{className:K.a.forecast__switch},n.a.createElement("span",{className:K.a.forecast__switch__label},"\xbaF"),n.a.createElement(S,{checked:c,onChange:s}),n.a.createElement("span",{className:K.a.forecast__switch__label},"\xbaC")),n.a.createElement(u,{onClick:function(){return _()},disabled:!(m>1),customStyles:{button:"".concat(K.a.forecast__button,"\n                            ").concat(K.a.forecast__buttonPrev)}}),n.a.createElement(u,{onClick:function(){return d()},disabled:!(f>m),customStyles:{button:"".concat(K.a.forecast__button,"\n                            ").concat(K.a.forecast__buttonNext)}}))),n.a.createElement("div",{className:K.a.forecast__cards},l().map((function(e){return n.a.createElement(z,{key:e.date,data:e,isCelsius:c,isActive:e.date===a,onCardClick:function(){return r(e.date)}})}))))};J.defaultProps={city:"",list:[],activeForecastDate:"",isCelsius:!1,setActiveForecastDate:function(){},setIsCelsius:function(){}};var Q=J,R=a(28),X=function(e){var t=e.style,a=e.label;return n.a.createElement("g",{style:t},n.a.createElement("text",null,a))};X.defaultProps={label:"",style:{}};var V=X,Z=a(76),$=a.n(Z),ee={transform:"translate(50%, 100%)"},te={transform:"rotateX(0deg) rotateY(0deg) rotateZ(-90deg) translate(-122px, 12px)"},ae=function(e){var t=e.data,a=e.forecastDate,r=e.isCelsius;return n.a.createElement("div",{className:$.a.wrapper},n.a.createElement("h2",{className:$.a.title},M()(a).format("Do MMMM")),n.a.createElement("div",{className:$.a.chartContainer},n.a.createElement(R.c,{width:"100%",height:200},n.a.createElement(R.b,{data:t,margin:{top:0,right:0,left:-12,bottom:8}},n.a.createElement(R.e,{dataKey:"time",label:n.a.createElement(V,{label:"Time",style:ee})}),n.a.createElement(R.f,{label:n.a.createElement(V,{label:"Temperature",style:te})}),n.a.createElement(R.d,{labelStyle:{display:"none"},wrapperStyle:{background:"#fff",padding:"8px 16px",fontSize:"18px",borderRadius:"2px"},content:function(e){var t=e.payload;if(t.length)return"".concat(t[0].value," ").concat(r?" \xbaC":" \xbaF")}}),n.a.createElement(R.a,{dataKey:"temp",fill:"#009fe3",maxBarSize:24,radius:[4,4,0,0]})))))};ae.defaultProps={data:[],forecastDate:"",isCelsius:!1};var re=ae,ne=function(e){return e.reduce((function(e,t){var a=t.dt_txt.split(" ",1);return e[a]?e[a].push(t):e[a]=[t],e}),{})},ce=function(e){return e.reduce((function(e,t){return e+=t.main.temp}),0)/e.length},se=function(e){var t=[];for(var a in e){var r={date:a,avg_temp:ce(e[a])};t.push(r)}return t},oe=function(e,t){return e.map((function(e){return{time:e.dt_txt.substr(e.dt_txt.indexOf(" ")+1,5),temp:A(e.main.temp,t)}}))},ie=a(71),le=function(e){return{error:e.weather.error,isLoading:e.weather.isLoading,cityInfo:e.weather.cityInfo,forecastList:e.weather.forecastList,forecastByDate:e.weather.forecastByDate}},_e=Object(ie.b)({name:"weather",initialState:{isLoading:!0,error:"",cityInfo:{},forecastList:[],forecastByDate:{}},reducers:{fetchWeatherDataSuccess:function(e,t){e.isLoading=!1,e.cityInfo=t.payload.city,e.forecastList=t.payload.forecastList,e.forecastByDate=t.payload.forecastByDate},setError:function(e,t){e.isLoading=!1,e.error=t.payload}}}),ue=_e.actions,de=ue.fetchWeatherDataSuccess,fe=ue.setError,me=_e,pe=a(39),he=a.n(pe),ve=a(70),be=a(206),Ee=a.n(be),ge=function(){var e=Object(ve.a)(he.a.mark((function e(){var t,a,r=arguments;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=r.length>1&&void 0!==r[1]?r[1]:{},e.next=4,Ee.a.get(t,{params:a});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=a(46),Ce=function(){var e=Object(ye.c)(le),t=Object(ye.b)(),a=Object(r.useState)(!1),n=Object(W.a)(a,2),c=n[0],s=n[1],o=Object(r.useState)(null),i=Object(W.a)(o,2),l=i[0],_=i[1];return Object(r.useEffect)((function(){setTimeout((function(){t(function(){var e=Object(ve.a)(he.a.mark((function e(t){var a,r,n,c,s,o,i;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={APPID:"3dcbba7ca4300e233aff5675be8082ab",q:"Munich,de",cnt:"40",units:"metric"},e.next=4,ge("https://api.openweathermap.org/data/2.5/forecast",a);case 4:r=e.sent,n=r.data,c=n.list,s=n.city,o=ne(c),i=se(o),t(de({city:s,forecastByDate:o,forecastList:i})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t(fe(e.t0.message||"Unknown error occurred"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),1300)}),[]),{state:e,isCelsius:c,setIsCelsius:s,activeForecastDate:l,setActiveForecastDate:_}},we=function(){var e=Ce(),t=e.state,a=e.isCelsius,r=e.setIsCelsius,c=e.activeForecastDate,s=e.setActiveForecastDate;return t.error?n.a.createElement(b,{message:t.error}):t.isLoading?n.a.createElement(F,null):n.a.createElement(n.a.Fragment,null,!!t.forecastList.length&&n.a.createElement(Q,{list:t.forecastList,isCelsius:a,city:t.cityInfo.name,setIsCelsius:function(){return r(!a)},activeForecastDate:c,setActiveForecastDate:s}),c&&n.a.createElement(re,{forecastDate:c,isCelsius:a,data:oe(t.forecastByDate[c],a)}))};we.defaultProps={};var xe=we,Ne=a(207),Fe=a.n(Ne),Pe=function(){var e=Object(r.useState)(!0),t=Object(W.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){setTimeout((function(){n(!1),document.getElementById("flash-screen").style.display="none"}),1e3)}),[]),a},De=function(){return Pe()?null:n.a.createElement(n.a.Fragment,null,n.a.createElement(C,null),n.a.createElement("div",{className:Fe.a.content},n.a.createElement(xe,null)))},Oe=Object(ie.a)({reducer:{weather:me.reducer}});s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ye.a,{store:Oe},n.a.createElement(De,null))),document.getElementById("root"))},72:function(e,t,a){e.exports={header:"Header_header__3dVUz",header__title:"Header_header__title__28fUQ",container:"Header_container__1hKOs"}},73:function(e,t,a){e.exports={loader:"Loader_loader__3Ku7_",loader__spinner:"Loader_loader__spinner__2TUQn",loading:"Loader_loading__2TJ_o",loader__text:"Loader_loader__text__1uZ15"}},74:function(e,t,a){e.exports={switch:"Switch_switch__3fe8q",switch__input:"Switch_switch__input__291o-",switch__circle:"Switch_switch__circle__80GYp"}},76:function(e,t,a){e.exports={wrapper:"ForecastChart_wrapper__UxHGX",title:"ForecastChart_title__jWRBQ",chartContainer:"ForecastChart_chartContainer__178UJ"}}},[[236,1,2]]]);
//# sourceMappingURL=main.72643e06.chunk.js.map