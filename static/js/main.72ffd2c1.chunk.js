(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{155:function(e,t,a){e.exports={card:"Card_card__2mtgf"}},165:function(e,t,a){e.exports={content:"Weather_content__mP902"}},195:function(e,t,a){e.exports=a(399)},200:function(e,t,a){},21:function(e,t,a){e.exports={card:"ForecastCard_card__8Dqgd",active:"ForecastCard_active__121jB",card__field:"ForecastCard_card__field__2z3hU",card__field__label:"ForecastCard_card__field__label__N4Y52",card__field__value:"ForecastCard_card__field__value__rPDvy"}},399:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(29),s=a.n(n),o=(a(200),a(18)),i=a(41),l=a(93),_=a.n(l),u={invert:"invert",danger:"danger"},d=function(e){var t=e.children,a=e.onClick,r=e.variant,n=e.customStyles,s=void 0===n?{}:n,o=e.type,i=e.disabled;return c.a.createElement("button",{className:"\n            ".concat(_.a.button,"\n            ").concat(s.button,"\n            ").concat(u[r]?[_.a[u[r]]]:"","\n        "),type:o,onClick:a,disabled:i},t)};d.defaultProps={children:"",onClick:function(){},variantTypes:"",customStyles:{},type:"button",disabled:!1};var f=d,m=a(155),p=a.n(m),h=function(e){var t=e.children,a=e.customStyles,r=e.onClick;return c.a.createElement("div",{className:"".concat(p.a.card," ").concat(a.card),onClick:r},t)};h.defaultProps={children:"",customStyles:{card:""},onClick:function(){}};var b=h,v=a(60),E=a.n(v),y=function(){return c.a.createElement("div",{className:E.a.error},c.a.createElement("span",{className:E.a.error__icon}),c.a.createElement("span",{className:E.a.error__text},"OOPS..! Something went wrong, try refreshing the page."))},w=a(61),C=a.n(w),g=function(){return c.a.createElement("header",{className:C.a.header},c.a.createElement("div",{className:C.a.container},c.a.createElement("h1",{className:C.a.header__title},"Weather")))};g.defaultProps={};var x=g,N=a(62),F=a.n(N),S=function(){return c.a.createElement("div",{className:F.a.loader},c.a.createElement("div",{className:F.a.loader__spinner}),c.a.createElement("span",{className:F.a.loader__text},"Loading..."))};S.defaultProps={};var O=S,k=a(63),D=a.n(k),j=function(e){var t=e.onChange,a=e.checked,r=e.customStyles;return c.a.createElement("label",{className:"\n            ".concat(D.a.switch,"\n            ").concat(r.switch,"\n        ")},c.a.createElement("input",{type:"checkbox",className:"\n                ".concat(D.a.switch__input,"\n                ").concat(r.switch__input,"\n            "),onChange:t,checked:a}),c.a.createElement("span",{className:"".concat(D.a.switch__circle," ").concat(r.switch__circle)}))};j.defaultProps={onChange:function(){},checked:!1,customStyles:{switch:"",switch__circle:"",switch__input:""}};var L=j,P=a(55),M=a.n(P),B=a(21),I=a.n(B),V=function(e,t){return t?Math.round(e):Math.round(1.8*e+32)},U=function(e){var t=e.label,a=e.value;return c.a.createElement("div",{className:I.a.card__field},c.a.createElement("span",{className:I.a.card__field__label},t,": "),c.a.createElement("span",{className:I.a.card__field__value},a))};U.defaultProps={label:"",value:""};var A=U,T=function(e){var t=e.data,a=e.isActive,r=e.onCardClick,n=e.isCelsius;return c.a.createElement(b,{customStyles:{card:"".concat(I.a.card," ").concat(a?I.a.active:"")},onClick:r},c.a.createElement(c.a.Fragment,null,c.a.createElement(A,{label:"Date: ",value:M()(t.date).format("Do MMM YY")}),c.a.createElement(A,{label:"Temp: ",value:"".concat(V(t.avg_temp,n)," ").concat(n?" \xbaC":" \xbaF")})))};T.defaultProps={data:{},isActive:!1,onCardClick:function(){},isCelsius:!1};var W=T,H=a(9),Y=a.n(H),z=function(e){var t=e.list,a=e.activeForecastDate,n=e.setActiveForecastDate,s=e.isCelsius,i=e.setIsCelsius,l=e.city,_=Object(r.useState)([]),u=Object(o.a)(_,2),d=u[0],m=u[1],p=Object(r.useState)(1),h=Object(o.a)(p,2),b=h[0],v=h[1],E=Object(r.useState)(3),y=Object(o.a)(E,1)[0],w=Object(r.useState)(0),C=Object(o.a)(w,2),g=C[0],x=C[1];Object(r.useEffect)((function(){m(t),x(Math.ceil(t.length/y)),n(t[0].date)}),[t]);return c.a.createElement("div",{className:Y.a.forecast},c.a.createElement("div",{className:Y.a.forecast__header},c.a.createElement("h2",{className:Y.a.forecast__title},l),c.a.createElement("div",{className:Y.a.forecast__buttonGroup},c.a.createElement("label",{className:Y.a.forecast__switch},c.a.createElement("span",{className:Y.a.forecast__switch__label},"\xbaF"),c.a.createElement(L,{checked:s,onChange:i}),c.a.createElement("span",{className:Y.a.forecast__switch__label},"\xbaC")),c.a.createElement(f,{onClick:function(){b>1&&v(b-1)},disabled:!(b>1),customStyles:{button:"".concat(Y.a.forecast__button,"\n                            ").concat(Y.a.forecast__buttonPrev)}}),c.a.createElement(f,{onClick:function(){g>b&&v(b+1)},disabled:!(g>b),customStyles:{button:"".concat(Y.a.forecast__button,"\n                            ").concat(Y.a.forecast__buttonNext)}}))),c.a.createElement("div",{className:Y.a.forecast__cards},function(){var e=b*y,t=e-y;return d.slice(t,e)}().map((function(e){return c.a.createElement(W,{key:e.date,data:e,isCelsius:s,isActive:e.date===a,onCardClick:function(){return n(e.date)}})}))))};z.defaultProps={city:"",list:[],activeForecastDate:"",isCelsius:!1,setActiveForecastDate:function(){},setIsCelsius:function(){}};var G=z,K=a(22),q=function(e){var t=e.style,a=e.label;return c.a.createElement("g",{style:t},c.a.createElement("text",null,a))};q.defaultProps={label:"",style:{}};var J=q,Q=a(65),R=a.n(Q),X={transform:"translate(50%, 100%)"},Z={transform:"rotateX(0deg) rotateY(0deg) rotateZ(-90deg) translate(-122px, 12px)"},$=function(e){var t=e.data,a=e.forecastDate,r=e.isCelsius;return c.a.createElement("div",{className:R.a.wrapper},c.a.createElement("h2",{className:R.a.title},M()(a).format("Do MMMM")),c.a.createElement("div",{className:R.a.chartContainer},c.a.createElement(K.c,{width:"100%",height:200},c.a.createElement(K.b,{data:t,margin:{top:0,right:0,left:-12,bottom:8}},c.a.createElement(K.e,{dataKey:"time",label:c.a.createElement(J,{label:"Time",style:X})}),c.a.createElement(K.f,{label:c.a.createElement(J,{label:"Temperature",style:Z})}),c.a.createElement(K.d,{labelStyle:{display:"none"},wrapperStyle:{background:"#fff",padding:"8px 16px",fontSize:"18px",borderRadius:"2px"},content:function(e){var t=e.payload;if(t.length)return"".concat(t[0].value," ").concat(r?" \xbaC":" \xbaF")}}),c.a.createElement(K.a,{dataKey:"temp",fill:"#009fe3",maxBarSize:24,radius:[4,4,0,0]})))))};$.defaultProps={data:[],forecastDate:""};var ee=$,te=function(e){return e.reduce((function(e,t){return e+=t.main.temp}),0)/e.length},ae=function(e){var t=[];for(var a in e){var r={date:a,avg_temp:te(e[a])};t.push(r)}return t},re=function(e,t){return e.map((function(e){return{time:e.dt_txt.substr(e.dt_txt.indexOf(" ")+1,5),temp:V(e.main.temp,t)}}))},ce=a(165),ne=a.n(ce),se=a(36),oe=a.n(se),ie=a(58),le=a(59),_e=a(166),ue=a.n(_e),de={getWeather:function(){var e=Object(ie.a)(oe.a.mark((function e(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Munich,de","40",e.prev=2,e.next=5,ue.a.get("https://api.openweathermap.org/data/2.5/forecast",{params:{q:"Munich,de",APPID:"3dcbba7ca4300e233aff5675be8082ab",cnt:"40",units:"metric"}});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},fe=function(e){return{cityInfo:e.weather.cityInfo,forecastList:e.weather.forecastList,forecastByDate:e.weather.forecastByDate,errorView:e.weather.errorView}},me=Object(le.b)({name:"weather",initialState:{errorView:!1,cityInfo:{},forecastList:[],forecastByDate:{}},reducers:{fetchWeatherDataSuccess:function(e,t){e.cityInfo=t.payload.city,e.forecastList=t.payload.forecastList,e.forecastByDate=t.payload.forecastByDate},setErrorView:function(e,t){e.errorView=t.payload}}}),pe=me.actions,he=pe.fetchWeatherDataSuccess,be=pe.setErrorView,ve=me.reducer,Ee=function(){var e=Object(i.c)(fe),t=Object(i.b)(),a=Object(r.useState)(!1),n=Object(o.a)(a,2),s=n[0],l=n[1],_=Object(r.useState)(null),u=Object(o.a)(_,2),d=u[0],f=u[1];return Object(r.useEffect)((function(){t(function(){var e=Object(ie.a)(oe.a.mark((function e(t){var a,r,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.getWeather();case 3:a=e.sent,n=a.data.list,r=n.reduce((function(e,t){var a=t.dt_txt.split(" ",1);return e[a]?e[a].push(t):e[a]=[t],e}),{}),c=ae(r),t(he({city:a.data.city,forecastByDate:r,forecastList:c})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(be(!0)),console.error(e.t0);case 13:case"end":return e.stop()}var n}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),e.forecastList.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(x,null),c.a.createElement("div",{className:ne.a.content},e.errorView?c.a.createElement(y,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(G,{list:e.forecastList,isCelsius:s,city:e.cityInfo.name,setIsCelsius:function(){return l(!s)},activeForecastDate:d,setActiveForecastDate:function(e){return f(e)}}),d&&c.a.createElement(ee,{forecastDate:d,isCelsius:s,data:re(e.forecastByDate[d],s)})))):c.a.createElement(O,null)};Ee.defaultProps={};var ye=Ee,we=function(){return c.a.createElement(ye,null)},Ce=Object(le.a)({reducer:{weather:ve}});s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:Ce},c.a.createElement(we,null))),document.getElementById("root"))},60:function(e,t,a){e.exports={error:"Error_error__iMbjl",error__icon:"Error_error__icon__30dCN",error__text:"Error_error__text__vxOFa"}},61:function(e,t,a){e.exports={header:"Header_header__3dVUz",header__title:"Header_header__title__28fUQ",container:"Header_container__1hKOs"}},62:function(e,t,a){e.exports={loader:"Loader_loader__3Ku7_",loader__spinner:"Loader_loader__spinner__2TUQn",loading:"Loader_loading__2TJ_o",loader__text:"Loader_loader__text__1uZ15"}},63:function(e,t,a){e.exports={switch:"Switch_switch__3fe8q",switch__input:"Switch_switch__input__291o-",switch__circle:"Switch_switch__circle__80GYp"}},65:function(e,t,a){e.exports={wrapper:"ForecastChart_wrapper__UxHGX",title:"ForecastChart_title__jWRBQ",chartContainer:"ForecastChart_chartContainer__178UJ"}},9:function(e,t,a){e.exports={forecast:"ForecastList_forecast__39bfI",forecast__header:"ForecastList_forecast__header__3Haar",forecast__title:"ForecastList_forecast__title__1yMDN",forecast__switch:"ForecastList_forecast__switch__1UF_q",forecast__switch__label:"ForecastList_forecast__switch__label__1KC0V",forecast__buttonGroup:"ForecastList_forecast__buttonGroup__34Xt0",forecast__button:"ForecastList_forecast__button__3HTUd",forecast__buttonPrev:"ForecastList_forecast__buttonPrev__3Fcos",forecast__buttonNext:"ForecastList_forecast__buttonNext__2M3-k",forecast__cards:"ForecastList_forecast__cards__2zSn7"}},93:function(e,t,a){e.exports={button:"Button_button__3ORSg",invert:"Button_invert__18Yym",danger:"Button_danger__2CiQ2"}}},[[195,1,2]]]);
//# sourceMappingURL=main.72ffd2c1.chunk.js.map