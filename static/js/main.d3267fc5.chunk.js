(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{11:function(e,t,a){e.exports={forecast:"ForecastList_forecast__39bfI",forecast__header:"ForecastList_forecast__header__3Haar",forecast__title:"ForecastList_forecast__title__1yMDN",forecast__buttonGroup:"ForecastList_forecast__buttonGroup__34Xt0",forecast__button:"ForecastList_forecast__button__3HTUd",forecast__buttonPrev:"ForecastList_forecast__buttonPrev__3Fcos",forecast__buttonNext:"ForecastList_forecast__buttonNext__2M3-k",forecast__cards:"ForecastList_forecast__cards__2zSn7"}},15:function(e,t,a){e.exports={card:"ForecastCard_card__8Dqgd",active:"ForecastCard_active__121jB",card__field:"ForecastCard_card__field__2z3hU",card__field__label:"ForecastCard_card__field__label__N4Y52",card__field__value:"ForecastCard_card__field__value__rPDvy"}},152:function(e,t,a){e.exports={card:"Card_card__2mtgf"}},161:function(e,t,a){e.exports={content:"Weather_content__mP902"}},193:function(e,t,a){e.exports=a(395)},198:function(e,t,a){},199:function(e,t,a){},22:function(e,t,a){e.exports={header:"Header_header__3dVUz",header__title:"Header_header__title__28fUQ",header__switch:"Header_header__switch__35KSY",header__switch__label:"Header_header__switch__label__2rqiA",container:"Header_container__1hKOs"}},395:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(28),s=a.n(n),o=(a(198),a(199),a(19)),i=a(60),l=a.n(i),_=function(){return r.a.createElement("div",{className:l.a.loader},r.a.createElement("div",{className:l.a.loader__spinner}),r.a.createElement("span",{className:l.a.loader__text},"Loading..."))};_.defaultProps={};var u=_,d=a(22),f=a.n(d),m=a(61),h=a.n(m),p=function(e){var t=e.onChange,a=e.checked,c=e.customStyles;return r.a.createElement("label",{className:"\n            ".concat(h.a.switch,"\n            ").concat(c.switch,"\n        ")},r.a.createElement("input",{type:"checkbox",className:"\n                ".concat(h.a.switch__input,"\n                ").concat(c.switch__input,"\n            "),onChange:t,checked:a}),r.a.createElement("span",{className:"".concat(h.a.switch__circle," ").concat(c.switch__circle)}))};p.defaultProps={onChange:function(){},checked:!1,customStyles:{switch:"",switch__circle:"",switch__input:""}};var v=p,b=function(e){var t=e.title,a=e.isCelsius,c=e.setIsCelsius;return r.a.createElement("header",{className:f.a.header},r.a.createElement("div",{className:f.a.container},r.a.createElement("h1",{className:f.a.header__title},t),r.a.createElement("label",{className:f.a.header__switch},r.a.createElement("span",{className:f.a.header__switch__label},"\xbaF"),r.a.createElement(v,{checked:a,onChange:c}),r.a.createElement("span",{className:f.a.header__switch__label},"\xbaC"))))};b.defaultProps={title:"",isCelsius:!1,setIsCelsius:function(){}};var E=b,w=a(89),C=a.n(w),y={invert:"invert",danger:"danger"},g=function(e){var t=e.children,a=e.onClick,c=e.variant,n=e.customStyles,s=void 0===n?{}:n,o=e.type,i=e.disabled;return r.a.createElement("button",{className:"\n            ".concat(C.a.button,"\n            ").concat(s.button,"\n            ").concat(y[c]?[C.a[y[c]]]:"","\n        "),type:o,onClick:a,disabled:i},t)};g.defaultProps={children:"",onClick:function(){},variantTypes:"",customStyles:{},type:"button",disabled:!1};var N=g,x=a(55),F=a.n(x),k=a(152),S=a.n(k),D=function(e){var t=e.children,a=e.customStyles,c=e.onClick;return r.a.createElement("div",{className:"".concat(S.a.card," ").concat(a.card),onClick:c},t)};D.defaultProps={children:"",customStyles:{card:""},onClick:function(){}};var O=D,j=a(15),L=a.n(j),P=function(e,t){return t?Math.round(e):Math.round(1.8*e+32)},M=function(e){var t=e.data,a=e.isActive,c=e.onCardClick,n=e.isCelsius;return r.a.createElement(O,{customStyles:{card:"".concat(L.a.card," ").concat(a?L.a.active:"")},onClick:c},r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:L.a.card__field},r.a.createElement("span",{className:L.a.card__field__label},"Date: "),r.a.createElement("span",{className:L.a.card__field__value},F()(t.date).format("Do MMM YY"))),r.a.createElement("div",{className:L.a.card__field},r.a.createElement("span",{className:L.a.card__field__label},"Temp: "),r.a.createElement("span",{className:L.a.card__field__value},P(t.avg_temp,n),n?" \xbaC":" \xbaF"))))};M.defaultProps={data:{},isActive:!1,onCardClick:function(){},isCelsius:!0};var B=M,I=a(11),W=a.n(I),A=function(e){var t=e.list,a=e.activeForecastDate,n=e.setActiveForecastDate,s=e.isCelsius,i=Object(c.useState)([]),l=Object(o.a)(i,2),_=l[0],u=l[1],d=Object(c.useState)(1),f=Object(o.a)(d,2),m=f[0],h=f[1],p=Object(c.useState)(3),v=Object(o.a)(p,1)[0],b=Object(c.useState)(0),E=Object(o.a)(b,2),w=E[0],C=E[1];Object(c.useEffect)((function(){u(t),C(Math.ceil(t.length/v)),n(t[0].date)}),[t]);return r.a.createElement("div",{className:W.a.forecast},r.a.createElement("div",{className:W.a.forecast__header},r.a.createElement("h2",{className:W.a.forecast__title},"Weather"),r.a.createElement("div",{className:W.a.forecast__buttonGroup},r.a.createElement(N,{onClick:function(){m>1&&h(m-1)},disabled:!(m>1),customStyles:{button:"".concat(W.a.forecast__button,"\n                            ").concat(W.a.forecast__buttonPrev)}}),r.a.createElement(N,{onClick:function(){w>m&&h(m+1)},disabled:!(w>m),customStyles:{button:"".concat(W.a.forecast__button,"\n                            ").concat(W.a.forecast__buttonNext)}}))),r.a.createElement("div",{className:W.a.forecast__cards},function(){var e=m*v,t=e-v;return _.slice(t,e)}().map((function(e){return r.a.createElement(B,{key:e.date,data:e,isCelsius:s,isActive:e.date===a,onCardClick:function(){return n(e.date)}})}))))};A.defaultProps={list:[],activeForecastDate:"",setActiveForecastDate:function(){},isCelsius:!0};var H=A,T=a(36),U=a(63),Y=a.n(U),G=function(){return r.a.createElement("g",{style:{transform:"translate(50%, 100%)"}},r.a.createElement("text",null,"Time"))},K=function(e){var t=e.data,a=e.forecastDate;return r.a.createElement("div",{className:Y.a.wrapper},r.a.createElement("h2",{className:Y.a.title},F()(a).format("Do MMMM")),r.a.createElement("div",{className:Y.a.chartContainer},r.a.createElement(T.b,{width:function(){var e=window.innerWidth-48;return 600>e?e:600}(),height:220,data:t,margin:{top:0,right:0,left:-18,bottom:0}},r.a.createElement(T.d,{dataKey:"time",label:r.a.createElement(G,null)}),r.a.createElement(T.e,{label:{value:"Temperature",angle:-90}}),r.a.createElement(T.c,null),r.a.createElement(T.a,{dataKey:"temp",fill:"#688696"}))))};K.defaultProps={data:[],forecastDate:""};var q=K,J=function(e,t){return e.map((function(e){return{time:e.dt_txt.substr(e.dt_txt.indexOf(" ")+1,5),temp:P(e.main.temp,t)}}))},Q=a(161),z=a.n(Q),R=a(35),X=a.n(R),V=a(58),Z=a(59),$=a(162),ee=a.n($),te={getWeather:function(){var e=Object(V.a)(X.a.mark((function e(){return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Munich,de","40",e.prev=2,e.next=5,ee.a.get("https://api.openweathermap.org/data/2.5/forecast",{params:{q:"Munich,de",APPID:"3dcbba7ca4300e233aff5675be8082ab",cnt:"40",units:"metric"}});case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},ae=function(e){return{cityInfo:e.weather.cityInfo,forecastList:e.weather.forecastList,forecastByDate:e.weather.forecastByDate}},ce=Object(Z.b)({name:"weather",initialState:{cityInfo:{},forecastList:[],forecastByDate:{}},reducers:{fetchWeatherDataSuccess:function(e,t){var a=t.payload.list.reduce((function(e,t){var a=t.dt_txt.split(" ",1);return e[a]?e[a].push(t):e[a]=[t],e}),{}),c=function(e){var t=[],a=function(e){return e.reduce((function(e,t){return e+=t.main.temp}),0)/e.length};for(var c in e){var r={date:c,avg_temp:a(e[c])};t.push(r)}return t}(a);e.cityInfo=t.payload.city,e.forecastList=c,e.forecastByDate=a}}}),re=ce.actions.fetchWeatherDataSuccess,ne=ce,se=a(41),oe=function(){var e=Object(se.c)(ae),t=Object(se.b)(),a=Object(c.useState)(!0),n=Object(o.a)(a,2),s=n[0],i=n[1],l=Object(c.useState)(null),_=Object(o.a)(l,2),d=_[0],f=_[1];return Object(c.useEffect)((function(){t(function(){var e=Object(V.a)(X.a.mark((function e(t){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.getWeather();case 3:a=e.sent,t(re(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),e.forecastList.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{title:e.cityInfo.name,setIsCelsius:function(){return i(!s)},isCelsius:s}),r.a.createElement("div",{className:z.a.content},r.a.createElement(H,{list:e.forecastList,isCelsius:s,activeForecastDate:d,setActiveForecastDate:function(e){return f(e)}}),d&&r.a.createElement(q,{forecastDate:d,data:J(e.forecastByDate[d],s)}))):r.a.createElement(u,null)};oe.defaultProps={};var ie=oe,le=function(){return r.a.createElement(ie,null)},_e=Object(Z.a)({reducer:{weather:ne.reducer}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se.a,{store:_e},r.a.createElement(le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},60:function(e,t,a){e.exports={loader:"Loader_loader__3Ku7_",loader__spinner:"Loader_loader__spinner__2TUQn",loading:"Loader_loading__2TJ_o",loader__text:"Loader_loader__text__1uZ15"}},61:function(e,t,a){e.exports={switch:"Switch_switch__3fe8q",switch__input:"Switch_switch__input__291o-",switch__circle:"Switch_switch__circle__80GYp"}},63:function(e,t,a){e.exports={wrapper:"ForecastChart_wrapper__UxHGX",title:"ForecastChart_title__jWRBQ",chartContainer:"ForecastChart_chartContainer__178UJ"}},89:function(e,t,a){e.exports={button:"Button_button__3ORSg",invert:"Button_invert__18Yym",danger:"Button_danger__2CiQ2"}}},[[193,1,2]]]);
//# sourceMappingURL=main.d3267fc5.chunk.js.map